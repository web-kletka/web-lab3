<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://xmlns.jcp.org/jsf/html
                            http://xmlns.jcp.org/jsf/facelets
                            http://xmlns.jcp.org/jsf/core "
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:f="http://xmlns.jcp.org/jsf/core">


<h:head>
    <title>Пример страницы</title>
    <link rel="stylesheet" href="style/style.css"/>
</h:head>
<h:body>
    <div class="header" style="font-family: fantasy">
        <h1>Захарченко Роман Владимирович</h1>
        <h2>Группа Р3131 / Вариант 660</h2>
    </div>

    <div class="form-container">
        <h:form class="myform" id="myform">
            <input type="hidden" name="action" value="areaCheck"/>
            <!-- Поля формы (оставляем как есть) -->
            <div class="input-group">
                <label>Изменение X:</label>
                <h:inputText value="#{FormBean.x}" styleClass="textField" id="x" name="x" placeholder="-4 ... 4"/>
            </div>

            <div class="input-group">
                <label>Изменение Y:</label>
                <h:inputText value="#{FormBean.y}" styleClass="textField" id="y" name="y" placeholder="-4 ... 4"/>
            </div>

            <div class="input-group">
                <label>Изменение R:</label>
                <div class="checkbox-group">
                    <label><input type="checkbox" name="r" value="1" class="checkR"/></label>
                    <label><input type="checkbox" name="r" value="2" class="checkR"/></label>
                    <label><input type="checkbox" name="r" value="3" class="checkR"/></label>
                    <label><input type="checkbox" name="r" value="4" class="checkR"/></label>
                </div>
                <label id="resultCheckBox">0</label>


                <h:inputHidden id="r" value="#{FormBean.r}" />
            </div>

            <h:commandButton value="Отправить" styleClass="button"
                             action="#{FormBean.processRequest}" id="responseButton">
<!--                <f:ajax execute="x y r" render="out_put_text" />-->
            </h:commandButton>
            <div id="out_put_text" class="out_put_text">
                <h:outputText value="#{FormBean.result}"/>
            </div>
        </h:form>

        <!-- Canvas для отрисовки фигуры -->
        <div class="graph-canvas">
            <canvas id="graphCanvas" width="300" height="300"></canvas>
        </div>
    </div>

    <div class="large-rectangle">
        <table>
            <thead>
            <tr>
                <th>X, Y, R</th>
                <th>Результат</th>
                <th>Время реальное</th>
                <th>Время работы скрипта (мс)</th>
            </tr>
            </thead>
            <tbody id="myTBody">
            <ui:repeat value="#{FormBean.requestHistory}" var="entry">
                <tr>
                    <td class="th"><h:outputText value="#{entry.xyr}"/></td>
                    <td class="th"><h:outputText value="#{entry.result}"/></td>
                    <td class="th"><h:outputText value="#{entry.time}"/></td>
                    <td class="th"><h:outputText value="#{entry.date}"/></td>
                </tr>
            </ui:repeat>
            </tbody>
        </table>
    </div>

    <script src="js/script.js"></script>
    <script src="js/graph.js"></script>
    <script src="js/actions.js"></script>
</h:body>
</html>
